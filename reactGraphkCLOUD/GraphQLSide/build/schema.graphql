type Drum @entity {
  id: ID!
  sensor: Sensor@derivedFrom(field: "drum")
  classification: String
  type: String 
  date_unix: BigInt 
  place_of_occurence: String 
  dose_rate: BigInt
  wasteAcceptanceRequest: String 
  wasteAcceptanceHandover: String

  currentStatus: String
  drumHistory: [DrumHistory]!@derivedFrom(field: "drum")
}

type DrumHistory @entity {
  id: ID!
  drum: Drum!

  sensor_data: [SensorData]!@derivedFrom(field: "drum")
  inTransitData: InTransitData
  packagingData: PackagingData
  temporaryStorageData: TemporaryStorageData
  takingOverData: TakingOverData
}

type Sensor @entity {
  id: ID!
  drum: Drum! 
}

type SensorData @entity {
  id: ID!
  sensor: Sensor!
  time_recorded: BigInt!
  drum: DrumHistory!
  status: String!

  cWLiquidD_CS: BigDecimal!
  cWLiquidD_PS: BigDecimal! 
  WFilterD_CS: BigDecimal! 
  WResinD_CS: BigDecimal! 
  paper_compression: BigDecimal!
  
  cWLiquidD_CS_Status: BigDecimal!
  cWLiquidD_PS_Status: BigDecimal! 
  WFilterD_CS_Status: BigDecimal! 
  WResinD_CS_Status: BigDecimal! 
  paper_compression_Status: BigDecimal!
  
  GPS_longitude: BigInt
  GPS_Latitude: BigInt 
}

type InTransitData @entity @key(fields: "id") @key(fields: "drum"){
  id: ID! 
  carrier: String
  transportation_schedule: String
  status: String

  drum: DrumHistory!@derivedFrom(field: "inTransitData")
}

type PackagingData @entity @key(fields: "id") @key(fields: "drum"){
  id: ID!
  drum: DrumHistory!@derivedFrom(field: "packagingData")
  
  classification: String
  type: String 
  date_unix: BigInt 
  place_of_occurence: String 
  wasteAcceptanceRequest: String
}

type TemporaryStorageData @entity @key(fields: "id") @key(fields: "drum") {
  id: ID!
  drum: DrumHistory!@derivedFrom(field: "temporaryStorageData")

  storage_id: BigInt
  longitude: BigInt 
  latitude: BigInt 
  storage_schedule: String 
}

type TakingOverData @entity @key(fields: "id") @key(fields: "drum"){
  id: ID!
  drum: [DrumHistory]!@derivedFrom(field: "takingOverData")

  acquisition: String 
  transferee: String 
  transportation_schedule: String
  wasteAcceptanceRequest: String
}